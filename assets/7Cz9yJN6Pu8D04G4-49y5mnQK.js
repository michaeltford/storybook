import{j as r}from"./index-J-Hv9Xln.js";import{r as e}from"./iframe-CBk8unIv.js";import{S as N,i as z}from"./index-NVek8bTy.js";import{a as n,e as K}from"./index-DvhsF04y.js";import{B as R,F as A,T as J,b as O,g as T}from"./TextField-DhMfhqoy.js";import"./index-CMiH3ff9.js";import"./preload-helper-D9Z9MdNV.js";import"./index-ZiyYtj3X.js";import"./index--CXhSu_I.js";import"./Tooltip-BpPbRQQ7.js";import"./client-vjV3QKWK.js";/**
 * @license @sheetxl/utils-mui - Utilities MUI - Utilities for MUI Components needed for all SheetXL components. - v0.6.6
 *
 * (C) 2025-present SheetXL Inc. & Michael T. Ford
 * License: The license can be found at https://www.sheetxl.com/license.
 */const W=["Input"],et=e.memo(e.forwardRef((y,F)=>{const{initialValue:S="",onOption:w,onValidateOption:p,onInputOption:l,onValidateInputOption:s,onDone:u,inputProps:c,inputLabel:v,inputType:I,inputPlaceHolder:P,options:m=W,autoFocusSel:b=".autoFocus",cancelOption:d,defaultOption:g=m?.[0],...j}=y,[C,k]=e.useState(!1),[o,B]=e.useState(S),[V,D]=e.useState(""),[$,E]=e.useState(!0),i=n(async(t,a)=>{if(!s)return!0;const x=await s?.(t,a);D(x?.message??"");const h=x?.valid??!0;return E(h),h},[s]),f=n(async t=>{l?.(o,t)},[o,l,u,w,d,g]),H=n(async t=>{t.keyCode===K.Enter&&await i?.(o,null)},[o,f]),L=n(t=>{B(t.target.value),i?.(t.target.value,null)},[p]),M=n(async t=>{let a=await i(o,t);try{a!==!1&&(a=await i(o,t))}catch{}return a??!0},[o,p]);return r.jsx(N,{options:m,onDone:u,onOption:(t,a)=>{a||f(t)},onValidateOption:M,cancelOption:d,defaultOption:g,autoFocusSel:b,ref:F,...j,children:r.jsx(R,{sx:{paddingTop:t=>t.spacing(1),paddingBottom:t=>t.spacing(0)},children:r.jsx(A,{sx:{paddingTop:t=>t.spacing(1.5),minWidth:135,width:"100%"},size:"small",children:r.jsx(J,{onFocus:t=>{C||t.target?.select(),k(!0)},type:I,label:v,helperText:V||" ",sx:{width:"100%","& .MuiFormHelperText-root":{marginTop:t=>t.spacing(.5),color:$?void 0:"error.main"}},InputLabelProps:{shrink:!0},InputProps:{inputProps:{placeholder:P,spellCheck:!1,autoComplete:"off",...c,className:z("autoFocus",c?.className),sx:{paddingTop:t=>t.spacing(1.25),paddingBottom:t=>t.spacing(.75),backgroundImage:`linear-gradient(${O("#fff",T(5))}, ${O("#fff",T(5))})`}}},value:o,onChange:L,onKeyDown:H,onContextMenu:t=>{t.stopPropagation()}})})})})}));export{et as default};
